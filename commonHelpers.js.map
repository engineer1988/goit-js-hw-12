{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default async function fetchImages(search, params) {\n  const API_KEY = '42241202-737945e445eb9c5ec6bcca7e8';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${search}&${params}`;\n\n  const response = await axios.get(URL);\n  return response.data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nexport let number;\nexport default function renderImages(images) {\n  if (images.hits.length === 0) {\n    number = images.hits.length;\n    iziToast.error({\n      maxWidth: '432px',\n      messageColor: 'rgb(250, 250, 251)',\n      messageSize: '16px',\n      backgroundColor: 'rgb(239, 64, 64)',\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n  const markup = images.hits\n    .map(image => {\n      return `\n            <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n              <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <div class=\"image-text\">\n             <div class=\"image-text-item\">\n              <h2>Likes</h2>\n              <span class=\"span-size\">${image.likes}</span>\n             </div>\n             <div class=\"image-text-item\">\n              <h2>Views</h2>\n              <span class=\"span-size\">${image.views}</span>\n             </div>\n             <div class=\"image-text-item\">\n              <h2>Comments</h2>\n              <span class=\"span-size\">${image.comments}</span>\n             </div>\n             <div class=\"image-text-item\">\n              <h2>Downloads</h2>\n              <span class=\"span-size\">${image.downloads}</span>\n             </div>\n            </div>\n          </li>`;\n    })\n    .join('');\n  return markup;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { number } from './js/render-functions';\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst addImagesBtn = document.querySelector('.btn');\nconst options = {\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nlet page = 1;\nlet perPage = 15;\nconst params = new URLSearchParams({\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  page: page,\n  per_page: perPage,\n});\nlet search;\n\nloader.classList.add('hide');\naddImagesBtn.classList.add('hide');\nconst lightbox = new SimpleLightbox('.gallery a', options);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  search = e.target.elements.search.value;\n\n  loader.classList.remove('hide');\n\n  fetchImages(search, params)\n    .then(images => renderImages(images))\n    .then(markup => viewLightBox(markup))\n    .catch(error =>\n      iziToast.error({\n        maxWidth: '432px',\n        messageColor: 'rgb(250, 250, 251)',\n        messageSize: '16px',\n        backgroundColor: 'rgb(239, 64, 64)',\n        position: 'topRight',\n        message: `${error}`,\n      })\n    );\n\n  form.reset();\n});\nfunction viewLightBox(markup) {\n  gallery.innerHTML = '';\n  gallery.innerHTML = markup;\n  if (number === 0) {\n    addImagesBtn.classList.add('hide');\n  } else {\n    addImagesBtn.classList.remove('hide');\n  }\n  lightbox.refresh();\n  loader.classList.add('hide');\n}\n"],"names":["fetchImages","search","params","URL","axios","number","renderImages","images","iziToast","image","gallery","form","loader","addImagesBtn","options","page","perPage","lightbox","SimpleLightbox","e","markup","viewLightBox","error"],"mappings":"owBAEe,eAAeA,EAAYC,EAAQC,EAAQ,CAExD,MAAMC,EAAM,qEAA6CF,KAAUC,IAGnE,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,IAClB,CCNO,IAAIE,EACI,SAASC,EAAaC,EAAQ,CAC3C,OAAIA,EAAO,KAAK,SAAW,IACzBF,EAASE,EAAO,KAAK,OACrBC,EAAS,MAAM,CACb,SAAU,QACV,aAAc,qBACd,YAAa,OACb,gBAAiB,mBACjB,SAAU,WACV,QACE,0EACR,CAAK,GAEYD,EAAO,KACnB,IAAIE,GACI;AAAA;AAAA,4CAE+BA,EAAM;AAAA,gDACFA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,wCAK1CA,EAAM;AAAA;AAAA;AAAA;AAAA,wCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,wCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,wCAINA,EAAM;AAAA;AAAA;AAAA,gBAIzC,EACA,KAAK,EAAE,CAEZ,CCtCA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,MAAM,EAC5CC,EAAU,CACd,gBAAiB,MACjB,aAAc,MACd,aAAc,GAChB,EACA,IAAIC,EAAO,EACPC,EAAU,GACd,MAAMd,EAAS,IAAI,gBAAgB,CACjC,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMa,EACN,SAAUC,CACZ,CAAC,EACD,IAAIf,EAEJW,EAAO,UAAU,IAAI,MAAM,EAC3BC,EAAa,UAAU,IAAI,MAAM,EACjC,MAAMI,EAAW,IAAIC,EAAe,aAAcJ,CAAO,EAEzDH,EAAK,iBAAiB,SAAUQ,GAAK,CACnCA,EAAE,eAAc,EAChBlB,EAASkB,EAAE,OAAO,SAAS,OAAO,MAElCP,EAAO,UAAU,OAAO,MAAM,EAE9BZ,EAAYC,EAAQC,CAAM,EACvB,KAAKK,GAAUD,EAAaC,CAAM,CAAC,EACnC,KAAKa,GAAUC,EAAaD,CAAM,CAAC,EACnC,MAAME,GACLd,EAAS,MAAM,CACb,SAAU,QACV,aAAc,qBACd,YAAa,OACb,gBAAiB,mBACjB,SAAU,WACV,QAAS,GAAGc,GACpB,CAAO,CACP,EAEEX,EAAK,MAAK,CACZ,CAAC,EACD,SAASU,EAAaD,EAAQ,CAC5BV,EAAQ,UAAY,GACpBA,EAAQ,UAAYU,EAChBf,IAAW,EACbQ,EAAa,UAAU,IAAI,MAAM,EAEjCA,EAAa,UAAU,OAAO,MAAM,EAEtCI,EAAS,QAAO,EAChBL,EAAO,UAAU,IAAI,MAAM,CAC7B"}